{"version":3,"sources":["RefForward.tsx"],"names":["RefForward","currentNode","handleRefOverride","node","props","children","innerRef","ref","componentDidUpdate","prevProps","componentWillUnmount","render","React","cloneElement","Component"],"mappings":";;;;;;;;;;;AAAA;;AACA;;IAEaA,U;;;;;;;;;;;UACXC,W,GAA2B,I;;UAE3BC,iB,GAAoB,UAACC,IAAD,EAAuB;AAAA,wBACV,MAAKC,KADK;AAAA,UACjCC,QADiC,eACjCA,QADiC;AAAA,UACvBC,QADuB,eACvBA,QADuB;AAGzC,4BAAWD,QAAD,CAA2DE,GAArE,EAA0EJ,IAA1E;AACA,4BAAUG,QAAV,EAAoBH,IAApB;AAEA,YAAKF,WAAL,GAAmBE,IAAnB;AACD,K;;;;;;;SAEDK,kB,GAAA,4BAAmBC,SAAnB,EAAwC;AACtC,QAAIA,SAAS,CAACH,QAAV,KAAuB,KAAKF,KAAL,CAAWE,QAAtC,EAAgD;AAC9C,4BAAU,KAAKF,KAAL,CAAWE,QAArB,EAA+B,KAAKL,WAApC;AACD;AACF,G;;SAEDS,oB,GAAA,gCAAuB;AACrB,WAAO,KAAKT,WAAZ;AACD,G;;SAEDU,M,GAAA,kBAAS;AAAA,QACCN,QADD,GACc,KAAKD,KADnB,CACCC,QADD;AAGP,wBAAOO,KAAK,CAACC,YAAN,CAAmBR,QAAnB,EAA6B;AAClCE,MAAAA,GAAG,EAAE,KAAKL;AADwB,KAA7B,CAAP;AAGD,G;;;EA5B6BU,KAAK,CAACE,S","sourcesContent":["import * as React from 'react';\nimport { handleRef, RefProps } from './utils';\n\nexport class RefForward extends React.Component<RefProps> {\n  currentNode: Node | null = null;\n\n  handleRefOverride = (node: HTMLElement) => {\n    const { children, innerRef } = this.props;\n\n    handleRef((children as React.ReactElement & { ref: React.Ref<any> }).ref, node);\n    handleRef(innerRef, node);\n\n    this.currentNode = node;\n  };\n\n  componentDidUpdate(prevProps: RefProps) {\n    if (prevProps.innerRef !== this.props.innerRef) {\n      handleRef(this.props.innerRef, this.currentNode);\n    }\n  }\n\n  componentWillUnmount() {\n    delete this.currentNode;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return React.cloneElement(children, {\n      ref: this.handleRefOverride,\n    });\n  }\n}\n"],"file":"RefForward.js"}